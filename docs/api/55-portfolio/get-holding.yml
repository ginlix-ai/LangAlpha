info:
  name: Get Holding
  type: http
  seq: 3

http:
  method: GET
  url: "{{base_url}}/api/v1/users/me/portfolio/{{holding_id}}"
  headers:
    - name: X-User-Id
      value: "{{user_id}}"
  auth: inherit

settings:
  encodeUrl: true
  timeout: 0

docs: |
  ## Get Holding

  Get a single portfolio holding.

  ### Path Parameters
  - `holding_id`: Portfolio holding UUID

  ### Response
  Returns the portfolio holding:
  - `holding_id`: Holding entry UUID
  - `user_id`: User ID
  - `symbol`: Instrument symbol (uppercase)
  - `instrument_type`: Type (stock, etf, index, crypto, future, commodity, currency)
  - `exchange`: Exchange name
  - `name`: Full instrument name
  - `quantity`: Number of units held (decimal)
  - `average_cost`: Average cost per unit (decimal)
  - `currency`: Currency code
  - `account_name`: Account name
  - `notes`: User notes
  - `metadata`: Additional metadata object
  - `first_purchased_at`: First purchase date
  - `created_at`: Creation timestamp
  - `updated_at`: Last update timestamp

  ### Error Responses
  - 404 Not Found: Holding not found or not owned by user

tests:
  test1: |
    test("should return 200", function() {
      expect(res.status).to.equal(200);
    });
  test2: |
    test("should return holding_id", function() {
      expect(res.body.holding_id).to.be.a("string");
    });
  test3: |
    test("should return symbol", function() {
      expect(res.body.symbol).to.be.a("string");
    });
  test4: |
    test("should return quantity", function() {
      expect(res.body.quantity).to.not.be.undefined;
    });
